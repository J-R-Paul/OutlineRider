<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bike File Editor</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Bike File Editor</h1>
        <!-- File Handling Options -->
        <div>
            <label for="fileInput">Load (Copy):</label>
            <input type="file" id="fileInput" accept=".bike, .html" aria-label="Load Bike File (Creates Copy)">
        </div>
        <div id="directFileAccess" style="display: none;"> <!-- Show only if API is supported -->
             <button id="openDirectButton">Open File (Direct Edit)</button>
             <span id="currentFileName">No file open</span>
             <button id="saveDirectButton" disabled>Save Directly</button>
        </div>
         <button id="saveAsButton">Save As / Download</button> <!-- Renamed original save -->

    </header>

    <div id="toolbar">
        <!-- Buttons remain the same as before -->
        <button class="format-button" data-command="bold"><b>B</b></button>
        <button class="format-button" data-command="italic"><i>I</i></button>
        <button class="format-button" data-command="code">{}</button>
        <button class="format-button" data-command="highlight">H</button>
        <button id="linkButton">Link</button>
        <hr>
        <button class="type-button" data-type="heading">Heading</button>
        <button class="type-button" data-type="note">Note</button>
        <button class="type-button" data-type="task">Task</button>
        <button class="type-button" data-type="ordered">Ordered</button>
        <button class="type-button" data-type="unordered">Unordered</button>
        <button class="type-button" data-type="hr">HR</button>
        <button class="type-button" data-type="">Plain</button>
        <hr>
        <button id="indentButton">Indent</button>
        <button id="outdentButton">Outdent</button>
        <button id="moveUpButton">Move Up</button>
        <button id="moveDownButton">Move Down</button>
        <button id="deleteButton">Delete</button>
    </div>

    <main id="outlineContainer" tabindex="0"> <!-- Add tabindex to make container focusable -->
        <p>Load or Open a .bike file to start editing.</p>
        <p>Use <b>Enter</b> for new item, <b>Shift+Enter</b> for line break, <b>Tab</b> to indent, <b>Shift+Tab</b> to outdent.</p>
    </main>

    <script src="script.js"></script>
</body>
</html>