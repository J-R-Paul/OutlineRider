<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bike File Editor</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Bike File Editor</h1>
        <!-- File Handling Options -->
        <div>
            <label for="fileInput">Load (Copy):</label>
            <input type="file" id="fileInput"
                   accept=".bike,.html,application/xhtml+xml,text/xml,application/xml"
                   aria-label="Load Bike File (Creates Copy)">
        </div>
        <div id="directFileAccess" style="display: none;"> <!-- Show only if API is supported -->
             <button id="openDirectButton">Open File (Direct Edit)</button>
             <span id="currentFileName">No file open</span>
             <button id="saveDirectButton" disabled>Save Directly</button>
        </div>
         <button id="saveAsButton">Save As / Download</button> <!-- Renamed original save -->
         <button id="clearLocalButton" title="Clear the draft saved in your browser storage">Clear Local Draft</button>

    </header>

    <div id="toolbar">
        <!-- Formatting Buttons -->
        <button class="format-button" data-command="bold" title="Bold (Ctrl+B)"><b>B</b></button>
        <button class="format-button" data-command="italic" title="Italic (Ctrl+I)"><i>I</i></button>
        <button class="format-button" data-command="code" title="Code">{}</button>
        <button class="format-button" data-command="highlight" title="Highlight">H</button>
        <button id="linkButton" title="Create Link">Link</button>
        <hr>
        <!-- Item Type Buttons -->
        <button class="type-button" data-type="heading" title="Heading">Heading</button>
        <button class="type-button" data-type="note" title="Note">Note</button>
        <button class="type-button" data-type="task" title="Task">Task</button>
        <button class="type-button" data-type="ordered" title="Ordered List Item">Ordered</button>
        <button class="type-button" data-type="unordered" title="Unordered List Item">Unordered</button>
        <button class="type-button" data-type="hr" title="Horizontal Rule">HR</button>
        <button class="type-button" data-type="" title="Plain Text">Plain</button> <!-- Empty data-type for default -->
        <hr>
        <!-- Outline Operation Buttons -->
        <button id="indentButton" title="Indent (Tab)">Indent</button>
        <button id="outdentButton" title="Outdent (Shift+Tab)">Outdent</button>
        <button id="moveUpButton" title="Move Up (Alt+Shift+Up)">Move Up</button>
        <button id="moveDownButton" title="Move Down (Alt+Shift+Down)">Move Down</button>
        <button id="deleteButton" title="Delete Item (Del/Backspace on empty)">Delete</button>
    </div>

    <main id="outlineContainer" tabindex="0"> <!-- Add tabindex to make container focusable -->
        <p>Load or Open a .bike file to start editing.</p>
        <p>Use <b>Enter</b> for new item, <b>Shift+Enter</b> for line break, <b>Tab</b> to indent, <b>Shift+Tab</b> to outdent.</p>
    </main>

    <script src="script.js"></script>
</body>
</html>